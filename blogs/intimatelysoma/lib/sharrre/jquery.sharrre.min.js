!function($,window,document,undefined){function Plugin(element,options){this.element=element,this.options=$.extend(!0,{},defaults,options),this.options.share=options.share,this._defaults=defaults,this._name=pluginName,this.init()}var pluginName="sharrre",defaults={className:"sharrre",share:{googlePlus:!1,facebook:!1,twitter:!1,digg:!1,delicious:!1,stumbleupon:!1,linkedin:!1,pinterest:!1},shareTotal:0,template:"",title:"",url:document.location.href,text:document.title,urlCurl:"sharrre.php",count:{},total:0,shorterTotal:!0,enableHover:!0,enableCounter:!0,enableTracking:!1,hover:function(){},hide:function(){},click:function(){},render:function(){},buttons:{googlePlus:{url:"",urlCount:!1,size:"medium",lang:"en-US",annotation:""},facebook:{url:"",urlCount:!1,action:"like",layout:"button_count",width:"",send:"false",faces:"false",colorscheme:"",font:"",lang:"en_US"},twitter:{url:"",urlCount:!1,count:"horizontal",hashtags:"",via:"",related:"",lang:"en"},digg:{url:"",urlCount:!1,type:"DiggCompact"},delicious:{url:"",urlCount:!1,size:"medium"},stumbleupon:{url:"",urlCount:!1,layout:"1"},linkedin:{url:"",urlCount:!1,counter:""},pinterest:{url:"",media:"",description:"",layout:"horizontal"}}},urlJson={googlePlus:"",facebook:"https://graph.facebook.com/fql?q=SELECT%20url,%20normalized_url,%20share_count,%20like_count,%20comment_count,%20total_count,commentsbox_count,%20comments_fbid,%20click_count%20FROM%20link_stat%20WHERE%20url=%27{url}%27&callback=?",twitter:"http://opensharecount.com/count.json?url={url}",digg:"http://services.digg.com/2.0/story.getInfo?links={url}&type=javascript&callback=?",delicious:"http://feeds.delicious.com/v2/json/urlinfo/data?url={url}&callback=?",stumbleupon:"",linkedin:"http://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",pinterest:"http://api.pinterest.com/v1/urls/count.json?url={url}&callback=?"},loadButton={googlePlus:function(self){var sett=self.options.buttons.googlePlus;$(self.element).find(".buttons").append('<div class="button googleplus"><div class="g-plusone" data-size="'+sett.size+'" data-href="'+(""!==sett.url?sett.url:self.options.url)+'" data-annotation="'+sett.annotation+'"></div></div>'),window.___gcfg={lang:self.options.buttons.googlePlus.lang};var loading=0;"undefined"==typeof gapi&&0==loading?(loading=1,function(){var po=document.createElement("script");po.type="text/javascript",po.async=!0,po.src="//apis.google.com/js/plusone.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(po,s)}()):gapi.plusone.go()},facebook:function(self){var sett=self.options.buttons.facebook;$(self.element).find(".buttons").append('<div class="button facebook"><div id="fb-root"></div><div class="fb-like" data-href="'+(""!==sett.url?sett.url:self.options.url)+'" data-send="'+sett.send+'" data-layout="'+sett.layout+'" data-width="'+sett.width+'" data-show-faces="'+sett.faces+'" data-action="'+sett.action+'" data-colorscheme="'+sett.colorscheme+'" data-font="'+sett.font+'" data-via="'+sett.via+'"></div></div>');var loading=0;"undefined"==typeof FB&&0==loading?(loading=1,function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||(js=d.createElement(s),js.id=id,js.src="//connect.facebook.net/"+sett.lang+"/all.js#xfbml=1",fjs.parentNode.insertBefore(js,fjs))}(document,"script","facebook-jssdk")):FB.XFBML.parse()},twitter:function(self){var sett=self.options.buttons.twitter;$(self.element).find(".buttons").append('<div class="button twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-url="'+(""!==sett.url?sett.url:self.options.url)+'" data-count="'+sett.count+'" data-text="'+self.options.text+'" data-via="'+sett.via+'" data-hashtags="'+sett.hashtags+'" data-related="'+sett.related+'" data-lang="'+sett.lang+'">Tweet</a></div>');var loading=0;"undefined"==typeof twttr&&0==loading?(loading=1,function(){var twitterScriptTag=document.createElement("script");twitterScriptTag.type="text/javascript",twitterScriptTag.async=!0,twitterScriptTag.src="//platform.twitter.com/widgets.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(twitterScriptTag,s)}()):$.ajax({url:"//platform.twitter.com/widgets.js",dataType:"script",cache:!0})},digg:function(self){var sett=self.options.buttons.digg;$(self.element).find(".buttons").append('<div class="button digg"><a class="DiggThisButton '+sett.type+'" rel="nofollow external" href="http://digg.com/submit?url='+encodeURIComponent(""!==sett.url?sett.url:self.options.url)+'"></a></div>');var loading=0;"undefined"==typeof __DBW&&0==loading&&(loading=1,function(){var s=document.createElement("SCRIPT"),s1=document.getElementsByTagName("SCRIPT")[0];s.type="text/javascript",s.async=!0,s.src="//widgets.digg.com/buttons.js",s1.parentNode.insertBefore(s,s1)}())},delicious:function(self){if("tall"==self.options.buttons.delicious.size)var css="width:50px;",cssCount="height:35px;width:50px;font-size:15px;line-height:35px;",cssShare="height:18px;line-height:18px;margin-top:3px;";else var css="width:93px;",cssCount="float:right;padding:0 3px;height:20px;width:26px;line-height:20px;",cssShare="float:left;height:20px;line-height:20px;";var count=self.shorterTotal(self.options.count.delicious);"undefined"==typeof count&&(count=0),$(self.element).find(".buttons").append('<div class="button delicious"><div style="'+css+'font:12px Arial,Helvetica,sans-serif;cursor:pointer;color:#666666;display:inline-block;float:none;height:20px;line-height:normal;margin:0;padding:0;text-indent:0;vertical-align:baseline;"><div style="'+cssCount+'background-color:#fff;margin-bottom:5px;overflow:hidden;text-align:center;border:1px solid #ccc;border-radius:3px;">'+count+'</div><div style="'+cssShare+'display:block;padding:0;text-align:center;text-decoration:none;width:50px;background-color:#7EACEE;border:1px solid #40679C;border-radius:3px;color:#fff;"><img src="http://www.delicious.com/static/img/delicious.small.gif" height="10" width="10" alt="Delicious" /> Add</div></div></div>'),$(self.element).find(".delicious").on("click",function(){self.openPopup("delicious")})},stumbleupon:function(self){var sett=self.options.buttons.stumbleupon;$(self.element).find(".buttons").append('<div class="button stumbleupon"><su:badge layout="'+sett.layout+'" location="'+(""!==sett.url?sett.url:self.options.url)+'"></su:badge></div>');var loading=0;"undefined"==typeof STMBLPN&&0==loading?(loading=1,function(){var li=document.createElement("script");li.type="text/javascript",li.async=!0,li.src="//platform.stumbleupon.com/1/widgets.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(li,s)}(),s=window.setTimeout(function(){"undefined"!=typeof STMBLPN&&(STMBLPN.processWidgets(),clearInterval(s))},500)):STMBLPN.processWidgets()},linkedin:function(self){var sett=self.options.buttons.linkedin;$(self.element).find(".buttons").append('<div class="button linkedin"><script type="in/share" data-url="'+(""!==sett.url?sett.url:self.options.url)+'" data-counter="'+sett.counter+'"></script></div>');var loading=0;"undefined"==typeof window.IN&&0==loading?(loading=1,function(){var li=document.createElement("script");li.type="text/javascript",li.async=!0,li.src="//platform.linkedin.com/in.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(li,s)}()):window.IN.init()},pinterest:function(self){var sett=self.options.buttons.pinterest;$(self.element).find(".buttons").append('<div class="button pinterest"><a href="http://pinterest.com/pin/create/button/?url='+(""!==sett.url?sett.url:self.options.url)+"&media="+sett.media+"&description="+sett.description+'" class="pin-it-button" count-layout="'+sett.layout+'">Pin It</a></div>'),function(){var li=document.createElement("script");li.type="text/javascript",li.async=!0,li.src="//assets.pinterest.com/js/pinit.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(li,s)}()}},tracking={googlePlus:function(){},facebook:function(){fb=window.setInterval(function(){"undefined"!=typeof FB&&(FB.Event.subscribe("edge.create",function(targetUrl){_gaq.push(["_trackSocial","facebook","like",targetUrl])}),FB.Event.subscribe("edge.remove",function(targetUrl){_gaq.push(["_trackSocial","facebook","unlike",targetUrl])}),FB.Event.subscribe("message.send",function(targetUrl){_gaq.push(["_trackSocial","facebook","send",targetUrl])}),clearInterval(fb))},1e3)},twitter:function(){tw=window.setInterval(function(){"undefined"!=typeof twttr&&(twttr.events.bind("tweet",function(event){event&&_gaq.push(["_trackSocial","twitter","tweet"])}),clearInterval(tw))},1e3)},digg:function(){},delicious:function(){},stumbleupon:function(){},linkedin:function(){},pinterest:function(){}},popup={googlePlus:function(opt){window.open("https://plus.google.com/share?hl="+opt.buttons.googlePlus.lang+"&url="+encodeURIComponent(""!==opt.buttons.googlePlus.url?opt.buttons.googlePlus.url:opt.url),"","toolbar=0, status=0, width=900, height=500")},facebook:function(opt){window.open("http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(""!==opt.buttons.facebook.url?opt.buttons.facebook.url:opt.url)+"&t="+opt.text,"","toolbar=0, status=0, width=900, height=500")},twitter:function(opt){window.open("https://twitter.com/intent/tweet?text="+encodeURIComponent(opt.text)+"&url="+encodeURIComponent(""!==opt.buttons.twitter.url?opt.buttons.twitter.url:opt.url)+(""!==opt.buttons.twitter.via?"&via="+opt.buttons.twitter.via:""),"","toolbar=0, status=0, width=650, height=360")},digg:function(opt){window.open("http://digg.com/tools/diggthis/submit?url="+encodeURIComponent(""!==opt.buttons.digg.url?opt.buttons.digg.url:opt.url)+"&title="+opt.text+"&related=true&style=true","","toolbar=0, status=0, width=650, height=360")},delicious:function(opt){window.open("http://www.delicious.com/save?v=5&noui&jump=close&url="+encodeURIComponent(""!==opt.buttons.delicious.url?opt.buttons.delicious.url:opt.url)+"&title="+opt.text,"delicious","toolbar=no,width=550,height=550")},stumbleupon:function(opt){window.open("http://www.stumbleupon.com/badge/?url="+encodeURIComponent(""!==opt.buttons.stumbleupon.url?opt.buttons.stumbleupon.url:opt.url),"stumbleupon","toolbar=no,width=550,height=550")},linkedin:function(opt){window.open("https://www.linkedin.com/cws/share?url="+encodeURIComponent(""!==opt.buttons.linkedin.url?opt.buttons.linkedin.url:opt.url)+"&token=&isFramed=true","linkedin","toolbar=no,width=550,height=550")},pinterest:function(opt){window.open("http://pinterest.com/pin/create/button/?url="+encodeURIComponent(""!==opt.buttons.pinterest.url?opt.buttons.pinterest.url:opt.url)+"&media="+encodeURIComponent(opt.buttons.pinterest.media)+"&description="+opt.buttons.pinterest.description,"pinterest","toolbar=no,width=700,height=300")}};Plugin.prototype.init=function(){var self=this;""!==this.options.urlCurl&&(urlJson.googlePlus=this.options.urlCurl+"?url={url}&type=googlePlus",urlJson.stumbleupon=this.options.urlCurl+"?url={url}&type=stumbleupon"),$(this.element).addClass(this.options.className),"undefined"!=typeof $(this.element).data("title")&&(this.options.title=$(this.element).attr("data-title")),"undefined"!=typeof $(this.element).data("url")&&(this.options.url=$(this.element).data("url")),"undefined"!=typeof $(this.element).data("text")&&(this.options.text=$(this.element).data("text")),$.each(this.options.share,function(name,val){val===!0&&self.options.shareTotal++}),self.options.enableCounter===!0?$.each(this.options.share,function(name,val){if(val===!0)try{self.getSocialJson(name)}catch(e){}}):""!==self.options.template?this.options.render(this,this.options):this.loadButtons(),$(this.element).hover(function(){0===$(this).find(".buttons").length&&self.options.enableHover===!0&&self.loadButtons(),self.options.hover(self,self.options)},function(){self.options.hide(self,self.options)}),$(this.element).click(function(){return self.options.click(self,self.options),!1})},Plugin.prototype.loadButtons=function(){var self=this;$(this.element).append('<div class="buttons"></div>'),$.each(self.options.share,function(name,val){1==val&&(loadButton[name](self),self.options.enableTracking===!0&&tracking[name]())})},Plugin.prototype.getSocialJson=function(name){var self=this,count=0,url=urlJson[name].replace("{url}",encodeURIComponent(this.options.url));this.options.buttons[name].urlCount===!0&&""!==this.options.buttons[name].url&&(url=urlJson[name].replace("{url}",this.options.buttons[name].url)),""!=url&&""!==self.options.urlCurl?$.getJSON(url,function(json){if("undefined"!=typeof json.count){var temp=json.count+"";temp=temp.replace("Â ",""),count+=parseInt(temp,10)}else json.data&&json.data.length>0&&"undefined"!=typeof json.data[0].total_count?count+=parseInt(json.data[0].total_count,10):"undefined"!=typeof json[0]?count+=parseInt(json[0].total_posts,10):"undefined"!=typeof json[0];self.options.count[name]=count,self.options.total+=count,self.renderer(),self.rendererPerso()}).error(function(){self.options.count[name]=0,self.rendererPerso()}):(self.renderer(),self.options.count[name]=0,self.rendererPerso())},Plugin.prototype.rendererPerso=function(){var shareCount=0;for(e in this.options.count)shareCount++;shareCount===this.options.shareTotal&&this.options.render(this,this.options)},Plugin.prototype.renderer=function(){var total=this.options.total,template=this.options.template;this.options.shorterTotal===!0&&(total=this.shorterTotal(total)),""!==template?(template=template.replace("{total}",total),$(this.element).html(template)):$(this.element).html('<div class="box"><a class="count" href="#">'+total+"</a>"+(""!==this.options.title?'<a class="share" href="#">'+this.options.title+"</a>":"")+"</div>")},Plugin.prototype.shorterTotal=function(num){return num>=1e6?num=(num/1e6).toFixed(2)+"M":num>=1e3&&(num=(num/1e3).toFixed(1)+"k"),num},Plugin.prototype.openPopup=function(site){if(popup[site](this.options),this.options.enableTracking===!0){var tracking={googlePlus:{site:"Google",action:"+1"},facebook:{site:"facebook",action:"like"},twitter:{site:"twitter",action:"tweet"},digg:{site:"digg",action:"add"},delicious:{site:"delicious",action:"add"},stumbleupon:{site:"stumbleupon",action:"add"},linkedin:{site:"linkedin",action:"share"},pinterest:{site:"pinterest",action:"pin"}};_gaq.push(["_trackSocial",tracking[site].site,tracking[site].action])}},Plugin.prototype.simulateClick=function(){var html=$(this.element).html();$(this.element).html(html.replace(this.options.total,this.options.total+1))},Plugin.prototype.update=function(url,text){""!==url&&(this.options.url=url),""!==text&&(this.options.text=text)},$.fn[pluginName]=function(options){var args=arguments;return options===undefined||"object"==typeof options?this.each(function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new Plugin(this,options))}):"string"==typeof options&&"_"!==options[0]&&"init"!==options?this.each(function(){var instance=$.data(this,"plugin_"+pluginName);instance instanceof Plugin&&"function"==typeof instance[options]&&instance[options].apply(instance,Array.prototype.slice.call(args,1))}):void 0}}(jQuery,window,document);
